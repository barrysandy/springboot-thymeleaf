<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">


	<!-- Mirrored from www.zi-han.net/theme/hplus/index_v5.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 20 Jan 2016 14:18:51 GMT -->
	<head>
	
	    <meta charset="utf-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	    <title>后端管理中心</title>
	    <link rel="shortcut icon" href="favicon.ico"> 
	    <link th:href="@{/css/bootstrap.min14ed.css?v=3.3.6}" href="/css/bootstrap.min14ed.css?v=3.3.6" rel="stylesheet">
	    <link th:href="@{/css/font-awesome.min93e3.css?v=4.4.0}" href="/css/font-awesome.min93e3.css?v=4.4.0" rel="stylesheet">
	    <link th:href="@{/css/animate.min.css}" href="/css/animate.min.css" rel="stylesheet">
	    <link th:href="@{/css/style.min862f.css?v=4.1.0}" href="/css/style.min862f.css?v=4.1.0" rel="stylesheet">
	
		<!-- BT Css -->
	    <link th:href="@{/plugins/bootstrap-table/dist/bootstrap-table.css}" href="plugins/bootstrap-table/dist/bootstrap-table.css" rel="stylesheet">
	    
	    <!-- 图标 Font Awesome http://fontawesome.dashgame.com/ -->
	    <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">
	    
	    <!-- Sweet Alert -->
    	<link th:href="@{/css/plugins/sweetalert/sweetalert.css}" href="css/plugins/sweetalert/sweetalert.css" rel="stylesheet">
    	
	</head>

	<body class="gray-bg top-navigation">
	
	    <div id="wrapper">
	        <div id="page-wrapper" class="gray-bg">
	            <div class="row border-bottom white-bg">
	                <nav class="navbar navbar-static-top" role="navigation">
	                    <div class="navbar-header">
	                        <button aria-controls="navbar" aria-expanded="false" data-target="#navbar" data-toggle="collapse" class="navbar-toggle collapsed" type="button">
	                            <i class="fa fa-reorder"></i>
	                        </button>
	                        <a class="navbar-brand" th:text="${session.user.name}"></a>
	                    </div>
	                    <div class="navbar-collapse collapse" id="navbar">
	                        <ul class="nav navbar-nav">
	                            <li class="dropdown">
	                                <a aria-expanded="false" role="button" th:href="@{/index}"> 返回首页</a>
	                            </li>
	                            <li class="active dropdown">
	                                <a aria-expanded="false" role="button" href="#" class="dropdown-toggle" data-toggle="dropdown"> 用户管理 <span class="caret"></span></a>
	                                <ul role="menu" class="dropdown-menu">
	                                    <li><a th:href="@{/user/list}">用户中心</a></li>
	                                    <li><a th:href="@{/user/toUpdate}">添加用户</a></li>
	                                </ul>
	                            </li>
	                            <li class="dropdown">
	                                <a aria-expanded="false" role="button" href="#" class="dropdown-toggle" data-toggle="dropdown"> 菜单 <span class="caret"></span></a>
	                                <ul role="menu" class="dropdown-menu">
	                                    <li><a href="#">菜单列表</a>
	                                    </li>
	                                    <li><a href="#">菜单列表</a>
	                                    </li>
	                                    <li><a href="#">菜单列表</a>
	                                    </li>
	                                    <li><a href="#">M菜单列表</a>
	                                    </li>
	                                </ul>
	                            </li>
	                            <li class="dropdown">
	                                <a aria-expanded="false" role="button" href="#" class="dropdown-toggle" data-toggle="dropdown"> 菜单 <span class="caret"></span></a>
	                                <ul role="menu" class="dropdown-menu">
	                                    <li><a href="#">菜单列表</a>
	                                    </li>
	                                    <li><a href="#">菜单列表</a>
	                                    </li>
	                                    <li><a href="#">菜单列表</a>
	                                    </li>
	                                    <li><a href="#">菜单列表</a>
	                                    </li>
	                                </ul>
	                            </li>
	                            <li class="dropdown">
	                                <a aria-expanded="false" role="button" href="#" class="dropdown-toggle" data-toggle="dropdown"> 菜单 <span class="caret"></span></a>
	                                <ul role="menu" class="dropdown-menu">
	                                    <li><a href="#">菜单列表</a>
	                                    </li>
	                                    <li><a href="#">菜单列表</a>
	                                    </li>
	                                    <li><a href="#">菜单列表</a>
	                                    </li>
	                                    <li><a href="#">菜单列表</a>
	                                    </li>
	                                </ul>
	                            </li>
	
	                        </ul>
	                        <ul class="nav navbar-top-links navbar-right">
	                            <li>
	                                <a th:href="@{/loginOut}">
	                                    <i class="fa fa-sign-out"></i> 退出
	                                </a>
	                            </li>
	                        </ul>
	                    </div>
	                </nav>
	            </div>
	            
	            
	            
	            
	            
	            
	            <input type="hidden" id="path" th:value="${'http://localhost:8080' + #servletContext.contextPath }" />
			    <div class="wrapper wrapper-content animated fadeInRight" style="width: 80%;margin-left: 10%;">
			        <div class="row">
			            <div class="col-sm-12">
			                <div class="ibox float-e-margins">
		<!-- 	                    <div class="ibox-title">
			                        <h5 id="h5">用户列表</h5>
			                        <div class="ibox-tools">
			                            <a class="collapse-link">
			                                <i class="fa fa-chevron-up"></i>
			                            </a>
			                            <a class="dropdown-toggle" data-toggle="dropdown" href="table_data_tables.html#">
			                                <i class="fa fa-wrench"></i>
			                            </a>
			                            <ul class="dropdown-menu dropdown-user">
			                                <li><a onclick="window.location.reload()">刷新本页</a></li>
			                            </ul>
			                            <a class="close-link">
			                                <i class="fa fa-times"></i>
			                            </a>
			                        </div>
			                    </div> -->
			                    
			                    <div class="ibox-content">
			                    	<!-- <a th:href="@{/user/toUpdate}" type="button" class="btn btn-primary btn-xs"> +新增 </a> -->
			                        <table id="table"></table>
			                    </div>
			                </div>
			            </div>
			        </div>
		        
		        	
			    </div>
			    
			    <script th:src="@{/js/jquery.min.js?v=2.1.4}" src="js/jquery.min.js?v=2.1.4"></script>
			    <script th:src="@{/js/bootstrap.min.js?v=3.3.6}" src="js/bootstrap.min.js?v=3.3.6"></script>
			    <script th:src="@{/js/plugins/jeditable/jquery.jeditable.js}" src="js/plugins/jeditable/jquery.jeditable.js"></script>
			    <script th:src="@{/js/plugins/dataTables/jquery.dataTables.js}" src="js/plugins/dataTables/jquery.dataTables.js"></script>
			    <script th:src="@{/js/plugins/dataTables/dataTables.bootstrap.js}" src="js/plugins/dataTables/dataTables.bootstrap.js"></script>
			    <script th:src="@{/js/content.min.js?v=1.0.0}" src="js/content.min.js?v=1.0.0"></script>
			    <script type="text/javascript" src="http://tajs.qq.com/stats?sId=9051096" charset="UTF-8"></script>
			    
			    <!-- BT Js -->
			    <script th:src="@{/plugins/bootstrap-table/dist/bootstrap-table.js}" src="plugins/bootstrap-table/dist/bootstrap-table.js"></script>
			    <script th:src="@{/plugins/bootstrap-table/dist/locale/bootstrap-table-zh-CN.js}" src="plugins/bootstrap-table/dist/locale/bootstrap-table-zh-CN.js"></script>
			    
			    <!-- Sweet Alert -->
			    <script th:src="@{/js/plugins/sweetalert/sweetalert.min.js}" src="js/plugins/sweetalert/sweetalert.min.js"></script>
			    
				<script type="text/javascript">
				var path = $("#path").val() + "/user/lists";
				 $("#table").bootstrapTable({ // 对应table标签的id
				      url: path, // 获取表格数据的url
				      toolbar: '#toolbar', //工具按钮用哪个容器
				      cache: false, // 设置为 false 禁用 AJAX 数据缓存， 默认为true
				      striped: true,  //表格显示条纹，默认为false
				      pagination: true, // 在表格底部显示分页组件，默认false
				      pageList: [10, 50], // 设置页面可以显示的数据条数
				      pageSize: 10, // 页面数据条数
				      pageNumber: 1, // 首页页码
				      showRefresh: true,
				      sidePagination: 'server', // 设置为服务器端分页
				      search: true,
				      showColumns: true, //是否显示所有的列（选择显示的列）
				      clickToSelect: false,//是否启用点击选中行
				      showToggle: false, //是否显示详细视图和列表视图的切换按钮
		              cardView: false, //是否显示详细视图
		              detailView: false, //是否显示父子表
				      queryParams: function (params) { // 请求服务器数据时发送的参数，可以在这里添加额外的查询参数，返回false则终止请求
				          return {
				              pageSize: params.limit, // 每页要显示的数据条数
				              offset: params.offset, // 每页显示数据的开始行号
				              sort: params.sort, // 要排序的字段
				              sortOrder: params.order, // 排序规则
				              search: params.search
				          }
				      },
				      sortName: 'id', // 要排序的字段
				      sortOrder: 'desc', // 排序规则
				      columns: [
				          {
				              checkbox: true, // 显示一个勾选框
				              align: 'center' // 居中显示
				          }, {
				              field: 'id', // 返回json数据中的name
				              title: 'ID', // 表格表头显示文字
				              width: '5%', // 定义列的宽度，单位为像素px
				              align: 'center', // 左右居中
				              valign: 'middle' // 上下居中
				          }, {
				              field: 'name',
				              title: '名称',
				              width: '20%', // 定义列的宽度，单位为像素px
				              align: 'center',
				              valign: 'middle'
				          }, {
				              field: 'password',
				              title: '密码',
				              width: '20%', // 定义列的宽度，单位为像素px
				              align: 'center',
				              valign: 'middle'
				          }, {
				              field: 'descM',
				              title: '描述',
				              width: '45%', // 定义列的宽度，单位为像素px
				              align: 'center',
				              valign: 'middle'
				          }, {
				              title: "操作",
				              align: 'center',
				              valign: 'middle',
				              width: '10%', // 定义列的宽度，单位为像素px
				              formatter: function (value, row, index) {
				                  return '<button class="btn btn-primary btn-sm" onclick="update(\'' + row.id + '\')">更新</button> <button class="btn btn-danger btn-sm" onclick="del(\'' + row.id + '\')">删除</button>';
				              }
				          }
				      ],
				      onLoadSuccess: function(){  //加载成功时执行
				            console.info("加载成功");
				      },
				      onLoadError: function(){  //加载失败时执行
				            console.info("加载数据失败");
				      }
				
				});
				
				 
				function update(id){
					window.location.href = $("#path").val() + "/user/toUpdate?id=" + id; 
				}
				
				function del(id){
					swal({
				        title: "您确定要删除这条信息吗",
				        text: "删除后将无法恢复，请谨慎操作！",
				        type: "warning",
				        showCancelButton: true,
				        confirmButtonColor: "#DD6B55",
				        confirmButtonText: "删除",
				        closeOnConfirm: false
				    }, function () {
				    	var url = $("#path").val() + "/user/del";
				    	$.get(url,{'id':id,},function(result){
			                if(result > 0){
			                	swal("删除成功！", "您已经永久删除了这条信息。", "success");
			                	setTimeout(window.location.reload(), 2000)
			                	
			                }
			            });
				        
				    });
		
				}
				
				</script>
		
		
		
		
		
		
		
	            <div class="footer">
	                <div class="pull-right">
	                    By：<a href="http://www.zi-han.net/" target="_blank">zihan's blog</a>
	                </div>
	                <div>
	                    <strong>Copyright</strong> H+ &copy; 2014
	                </div>
	            </div>
	        </div>
	    </div>
	
	    <script th:src="@{/js/jquery.min.js?v=2.1.4}" src="js/jquery.min.js?v=2.1.4"></script>
	    <script th:src="@{/js/bootstrap.min.js?v=3.3.6}" src="js/bootstrap.min.js?v=3.3.6"></script>
	    <script th:src="@{/js/plugins/metisMenu/jquery.metisMenu.js}" src="js/plugins/metisMenu/jquery.metisMenu.js"></script>
	    <script th:src="@{/js/plugins/slimscroll/jquery.slimscroll.min.js}" src="js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
	    <script th:src="@{/js/plugins/layer/layer.min.js}" src="js/plugins/layer/layer.min.js"></script>
	    <script th:src="@{/js/hplus.min.js?v=4.1.0}" src="js/hplus.min.js?v=4.1.0"></script>
	    <script th:src="@{/js/contabs.min.js}" type="text/javascript" src="js/contabs.min.js"></script>
	    <script th:src="@{/js/plugins/pace/pace.min.js}" src="js/plugins/pace/pace.min.js"></script>
	</body>


<!-- Mirrored from www.zi-han.net/theme/hplus/index_v5.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 20 Jan 2016 14:18:52 GMT -->
</html>
